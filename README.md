# TSC-Proiect
## Schema Bloc
![SchemaBloc](https://github.com/user-attachments/assets/fccb0b44-9382-4d8b-9453-178f1e9ea40c)
## BOM (Bill of Materials)
| Component                            | Link | Datasheet |
|--------------------------------------|------|-----------|
| ESP32-C6-WROOM-1-N8                  | [Link](https://ro.mouser.com/ProductDetail/Espressif-Systems/ESP32-C6-WROOM-1-N8?qs=8Wlm6%252BaMh8ST02Gmwp74cw%3D%3D) | [Datasheet](https://ro.mouser.com/datasheet/2/891/Espressif_ESP32_C6_WROOM_1__Datasheet_V0_1_PRELIMI-3239987.pdf) |
| 112A-TAAR-R03_ATTEND                 | [Link](https://www.digikey.ro/ro/products/detail/attend-technology/112A-TAAR-R03/17633923) | [Datasheet](https://www.attend.com.tw/data/download/file/112A-TAAR-R03_Spec.pdf) |
| ADAFRUIT_LEDCHIP-LED0603            | [Link](https://www.snapeda.com/parts/KP-1608SURCK/Kingbright/view-part/?ref=search&t=LED%200603) | [Datasheet](https://www.snapeda.com/parts/KP-1608SURCK/Kingbright/datasheet/) |
| ESP32_WROVER_EAGLE-LTSPICE_RR0402   | [Link](https://www.snapeda.com/parts/RC0402FR-07226RL/Yageo/view-part/) | [Datasheet](https://www.snapeda.com/parts/RC0402FR-07226RL/Yageo/datasheet/) |
| ESP32_WROVER_EAGLE-LTSPICE_CC0402   | [Link](https://componentsearchengine.com/part-view/CC0402MRX5R5BB106/YAGEO) | [Datasheet](https://componentsearchengine.com/Datasheets/2/CC0402MRX5R5BB106.pdf) |
| RCL_CPOL-EUCT3528                   | [Link](https://ro.mouser.com/ProductDetail/Vishay-Sprague/TR3B106K025C1300?qs=jCGqFXxTmLdffnuDkXzk1g%3D%3D) | [Datasheet](https://www.vishay.com/docs/40080/tr3.pdf) |
| ESP32_WROVER_SPARKFUN-DISCRETESEMI_MOSFET_PCH-DMG2305UX-7 | [Link](https://ro.mouser.com/ProductDetail/Diodes-Incorporated/DMG2305UX-7?qs=L1DZKBg7t5F%2FNBHrjfxC%252Bg%3D%3D) | [Datasheet](https://www.diodes.com/assets/Datasheets/DMG2305UX.pdf) |
| 744043680IND_4828-WE-TPC_WRE        | [Link](https://www.digikey.sg/en/products/detail/w%C3%BCrth-elektronik/744043680/1638515) | [Datasheet](https://www.we-online.com/components/products/datasheet/744043680.pdf) |
| BD5229G-TR                          | [Link](https://ro.mouser.com/ProductDetail/ROHM-Semiconductor/BD5229G-TR?qs=4kLU8WoGk0vvnhrrYwdszw%3D%3D) | [Datasheet](https://fscdn.rohm.com/en/products/databook/datasheet/ic/power/voltage_detector/bd52xxg-e.pdf) |
| ESP32_WROVER_BME680_BME680          | [Link](https://ro.mouser.com/ProductDetail/Bosch-Sensortec/BME680?qs=v271MhAjFHjo0yA%2FC4OnDQ%3D%3D) | [Datasheet](https://ro.mouser.com/datasheet/2/783/BST_BME680_DS001-1509608.pdf) |
| BUTTON_CUSTOMV1                     | [Link](https://ro.mouser.com/ProductDetail/Panasonic/EVQ-P7M01P?qs=rJ%252BziJWpysz0sJAzuCybtw%3D%3D) | [Datasheet](https://industry.panasonic.com/global/en/downloads/?file_cd=402906&tab=catalog&series_cd=3457) |
| CPH3225A                             | [Link](https://ro.mouser.com/ProductDetail/Seiko-Semiconductors/CPH3225A?qs=3etwrb1wR%252BhUOph6lAO7eg%3D%3D) | [Datasheet](https://ro.mouser.com/datasheet/2/360/Seiko_Instruments_MicroBattery_E_20230330_2024Jan_-3561061.pdf) |
| DS3231SN#                            | [Link](https://ro.mouser.com/ProductDetail/Analog-Devices-Maxim-Integrated/DS3231SN?qs=1eQvB6Dk1vhUlr8%2FOrV0Fw%3D%3D) | [Datasheet](https://ro.mouser.com/datasheet/2/609/DS3231-3421123.pdf) |
| ESP32C6_VARISTORCN1812              | [Link](https://eu.mouser.com/ProductDetail/KEMET/VC1812L501R008?qs=jj7GbYRQuOa1j1%2F3gPpdvQ%3D%3D) | [Datasheet](https://eu.mouser.com/datasheet/2/447/KEM_V0002_VC-3316862.pdf) |
| ESP32_WROVER_AVX---SD0805S020S1R0_AVX_SD0805S020S1R0_0_0AVX_SD0805S020S1R0_0_0 | [Link](https://eu.mouser.com/ProductDetail/KYOCERA-AVX/SD0805S020S1R0?qs=jCA%252BPfw4LHbpkAoSnwrdjw%3D%3D&utm_id=6470900573&utm_source=google&utm_medium=cpc&utm_marketing_tactic=emeacorp&gad_source=1&gbraid=0AAAAADn_wf2CZaBvMXoqDoLB8a6wI1EC_&gclid=CjwKCAjw--K_BhB5EiwAuwYoyhyp4YPMQJxEs9O7Um1pbb_qrwD9UbwWFHYqYH_KvU5-nXs4CTfFVRoCY7kQAvD_BwE) | [Datasheet](https://eu.mouser.com/datasheet/2/40/schottky-3165252.pdf) |
| FH34SRJ-24S-0.5SH_99_               | [Link](https://eu.mouser.com/ProductDetail/Hirose-Connector/FH34SRJ-24S-05SH99?qs=vcbW%252B4%252BSTIpKBl5ap9J8Fw%3D%3D&utm_id=6470900573&utm_source=google&utm_medium=cpc&utm_marketing_tactic=emeacorp&gad_source=1&gbraid=0AAAAADn_wf2CZaBvMXoqDoLB8a6wI1EC_&gclid=CjwKCAjw--K_BhB5EiwAuwYoykKExbMK_Nf7-m2eYAFcWwWt_BaAKmDd5HmJ3DzOwus-MUIZVeL9ExoCTtAQAvD_BwE) | [Datasheet](https://eu.mouser.com/datasheet/2/185/FH34SRJ_24S_0_5SH_99__CL0580_1255_6_99_2DDrawing_0-1615044.pdf) |
| MAX17048G+T10                        | [Link](https://eu.mouser.com/ProductDetail/Analog-Devices-Maxim-Integrated/MAX17048G+T10?qs=D7PJwyCwLAoGnnn8jEPRBQ%3D%3D&utm_id=20109199409&utm_source=google&utm_medium=cpc&utm_marketing_tactic=emeacorp&gad_source=1&gbraid=0AAAAADn_wf23I7VSL8Khkvz-kjEhjYqPz&gclid=CjwKCAjw--K_BhB5EiwAuwYoytVFz576awyE1ug3GUFRWVeGavv1g_gzDMEDxxjVwp1JIOS60JmKnhoC-zIQAvD_BwE) | [Datasheet](https://eu.mouser.com/datasheet/2/609/MAX17048_MAX17049-3469099.pdf) |
| MBR0530                              | [Link](https://eu.mouser.com/ProductDetail/Micro-Commercial-Components-MCC/MBR0530-TP?qs=KFo7JewZbUECRHkxGanrdg%3D%3D&utm_id=6470900573&utm_source=google&utm_medium=cpc&utm_marketing_tactic=emeacorp&gad_source=1&gbraid=0AAAAADn_wf2CZaBvMXoqDoLB8a6wI1EC_&gclid=CjwKCAjw--K_BhB5EiwAuwYoysNC_AmHFOx6dFFFiTr86y8jRKC674aUhl0na6xIgHM9UWT_XyhG0RoCYwIQAvD_BwE) | [Datasheet](https://eu.mouser.com/datasheet/2/258/MBR0520_MBR0580_SOD123_-2492194.pdf) |
| ESP32_WROVER_SPARKFUN-IC-POWER_MCP73831 | [Link](https://ro.mouser.com/ProductDetail/Microchip-Technology/MCP73831-2DCI-MC?qs=hH%252BOa0VZEiBQ%2FrptDRXKdg%3D%3D) | [Datasheet](https://ro.mouser.com/datasheet/2/268/MCP73831_Family_Data_Sheet_DS20001984H-3441711.pdf) |
| PGB1010603MR                         | [Link](https://ro.mouser.com/ProductDetail/Littelfuse/PGB1010603MR?qs=gu7KAQ731URLg4GSnNNN7Q%3D%3D) | [Datasheet](https://www.littelfuse.com/assetdocs/pulseguard-esd-suppressors-pgb1-datasheet?assetguid=8a337998-d54d-466b-be4e-dc5bcd1f9321) |
| QWIIC_CONNECTORJS-1MM               | [Link](https://www.sparkfun.com/qwiic-jst-connector-smd-4-pin-vertical.html) | [Datasheet](https://www.jst-mfg.com/product/pdf/eng/eSH.pdf?5ec58813d214e) |
| SAMACSYS_PARTS_USB4110-GF-A         | [Link](https://eu.mouser.com/ProductDetail/GCT/USB4110-GF-A?qs=KUoIvG%2F9IlYiZvIXQjyJeA%3D%3D&utm_id=6470900573&utm_source=google&utm_medium=cpc&utm_marketing_tactic=emeacorp&gad_source=1&gbraid=0AAAAADn_wf2CZaBvMXoqDoLB8a6wI1EC_&gclid=CjwKCAjw--K_BhB5EiwAuwYoyqoFYku-1KEnaVMBZNhraqam0ThMUfxlrF7A4GQ8Pqj9d6zLqr7juBoCrOEQAvD_BwE) | [Datasheet](https://eu.mouser.com/datasheet/2/837/GCT_USB4110_Product_Drawing___20k_cycles-3455479.pdf) |
| SI1308EDL-T1-GE3                     | [Link](https://eu.mouser.com/ProductDetail/Vishay-Semiconductors/SI1308EDL-T1-GE3?qs=bX1%252BNvsK%2FBramh9tgpOaEw%3D%3D&utm_id=20109199409&utm_source=google&utm_medium=cpc&utm_marketing_tactic=emeacorp&gad_source=1&gbraid=0AAAAADn_wf23I7VSL8Khkvz-kjEhjYqPz&gclid=CjwKCAjw--K_BhB5EiwAuwYoyllRgbebqlW1QDUb9SQpEls061aMn76tZxer07jsniKXNOsDESHnSBoCkL8QAvD_BwE) | [Datasheet](https://www.vishay.com/docs/63399/si1308edl.pdf) |
| USBLC6-2SC6Y                         | [Link](https://eu.mouser.com/ProductDetail/STMicroelectronics/USBLC6-2SC6Y?qs=gNDSiZmRJS%2FOgDexvXkdow%3D%3D&srsltid=AfmBOoqlX0fgvKlHMd5oyRC9Sr6hBsf51Zi0RKmaIGejNRz6zsEP_LgY) | [Datasheet](https://eu.mouser.com/datasheet/2/389/usblc6_2sc6y-1852505.pdf) |
| SJ                                   | [Link](https://grabcad.com/library/solder-jumpers-1) | [Datasheet](https://github.com/cristiandeda/TSC_E-BookReader/blob/main) |
| W25Q512JVEIQ                         | [Link](https://eu.mouser.com/ProductDetail/Winbond/W25Q512JVEIQ?qs=l7cgNqFNU1jw6svr3at6tA%3D%3D&srsltid=AfmBOopwp-NQhQ6JM3w-WMYdzldr5QNIm_7CdLwVaaaS66y9swf4PMgu) | [Datasheet](https://eu.mouser.com/datasheet/2/949/Winbond_W25Q512JV_Datasheet-3240039.pdf) |
| XC6220A331MR-G                       | [Link](https://eu.mouser.com/ProductDetail/Torex-Semiconductor/XC6220A331MR-G?qs=AsjdqWjXhJ8ZSWznL1J0gg%3D%3D&srsltid=AfmBOopNlEzK7MdHRFabPSVSf32rb8GhsgKYTsuSlo8EjEXWvzOc5IIo) | [Datasheet](https://eu.mouser.com/datasheet/2/760/xc6220-3371556.pdf) |
## Descrierea funcționalității hardware
Această placă integrează multiple componente pentru a oferi o soluție completă de control, senzorizare și afișare cu consum redus, ideală pentru aplicații IoT.

### Alimentare și Încărcare
* #### Conector USB-C
  Oferă atât alimentare principală (5V), cât și comunicație de date.

* #### Regulator tensiune (IC1)
  Convertor step-down care aduce tensiunea de la 5V la 3.3V, necesară pentru alimentarea ESP32 și a celorlalte circuite logice.

* #### Protecție la supratensiuni (TVS - D1, PFMF.050.1)
  Diodă TVS care protejează linia de alimentare USB și comunicație împotriva descărcărilor electrostatice (ESD) și supratensiunilor.

* #### Control încărcare baterie (MCP73831)
  Circuit dedicat pentru încărcarea bateriilor Li-Po, cu protecție la supraîncărcare și descărcare. Condensatorii C1 și C2 filtrează zgomotul de pe linia de alimentare.

* #### Monitorizare baterie (MAX17048)
  Cititor de nivel al bateriei cu comunicație I2C, oferă date precise despre starea acumulatorului în timp real.

### Memorie și Stocare
* #### Memorie NOR Flash SPI (W25Q512JVEIQ)
  Stocare de 64MB pentru fișiere (imagini, texte, baze de date), conectată la ESP32 prin SPI.

* #### Cititor card SD
  Conectat pe interfață SPI (IO8–IO11), permite extinderea capacității de stocare, ideal pentru loguri sau import de fișiere externe.

### Control Principal - ESP32-C6
* #### Microcontroller ESP32-C6-WROOM-1-N8
  Nucleul principal al plăcii, gestionează toate perifericele. Suportă Wi-Fi 6, BLE 5.2, Zigbee și Thread. Dispune de GPIO-uri versatile pentru SPI, I2C, UART și control direct pentru afișajele e-paper.

### Ceas în Timp Real (RTC)
* #### DS3231SN
  Modul de ceas cu precizie ridicată, conectat prin I2C. Are o baterie de rezervă ce menține ora actualizată chiar și fără alimentare principală.

### Senzor Ambiental
* #### BME688
  Senzor avansat care măsoară temperatura, umiditatea, presiunea atmosferică și calitatea aerului. Comunicarea se face prin I2C.

### Afișaj E-Paper
* #### Header dedicat pentru E-Ink Display
  Permite conectarea unui afișaj e-paper cu consum ultra-redus.

* #### Circuit de control semnal (MBR0530, L1, Q3)
  Asigură comutarea corectă a tensiunii și semnalelor pentru afișaj.

* #### Selectare ecran
  Prin jumperul S1 se poate selecta tipul de e-paper utilizat.

### Interfețe Extinse
* #### Qwiic / Stemma QT
  Conector standard JST-SH cu 4 pini pentru adăugarea de senzori sau module I2C externe cu plug-and-play.

* #### Test Pads GPIO
  Paduri expuse pentru pini importanți ai ESP32. Ușurează depanarea, măsurătorile sau conectarea de periferice suplimentare.

### Protecție și Control
* #### Protecție ESD pe SPI & Qwiic
  Include diode TVS și rezistențe pentru protecția semnalelor împotriva descărcărilor electrostatice.

* #### Butoane de control (RESET & BOOT)
  RESET – repornește sistemul; BOOT – folosit pentru programarea ESP32. Ambele conectate la pini esențiali (EN și IO0).

## Descrierea Pinilor ESP32-C6

| **Pin ESP32-C6** | **Nume Semnal**         | **Componentă Asociată**         | **Scop / Funcție**                                                                 |
|------------------|--------------------------|----------------------------------|--------------------------------------------------------------------------------------|
| **GND**          | GND                      | Toate componentele               | Masă comună pentru alimentare și semnal.                                            |
| **EN**           | Enable                   | Buton Reset                      | Resetează microcontrollerul la apăsare.                                             |
| **IO0**          | GPIO0                    | Buton BOOT                       | Intrare în modul de boot la apăsare.                                                |

### Test & GPIO General

| **Pin ESP32-C6** | **Nume Semnal**         | **Componentă Asociată**         | **Scop / Funcție**                                                                 |
|------------------|--------------------------|----------------------------------|--------------------------------------------------------------------------------------|
| **IO1**          | GPIO1                    | Test Pad TP11                   | I/O general sau pentru debug.                                                       |
| **IO2**          | GPIO2                    | Test Pad TP12                   | I/O general sau pentru debug.                                                       |
| **IO3**          | GPIO3                    | Test Pad TP13                   | I/O general sau pentru debug.                                                       |

### Memorie NOR Flash (SPI)

| **Pin ESP32-C6** | **Nume Semnal**         | **Componentă Asociată**         | **Scop / Funcție**                                                                 |
|------------------|--------------------------|----------------------------------|--------------------------------------------------------------------------------------|
| **IO4**          | CS                       | SPI Flash (W25Q512JVEIQ)        | Chip Select pentru memoria externă.                                                |
| **IO5**          | CLK                      | SPI Flash                        | Clock SPI pentru NOR Flash.                                                        |
| **IO6**          | MISO                     | SPI Flash                        | Date din NOR Flash către ESP32.                                                    |
| **IO7**          | MOSI                     | SPI Flash                        | Date de la ESP32 către NOR Flash.                                                  |

### Card SD (SPI)

| **Pin ESP32-C6** | **Nume Semnal**         | **Componentă Asociată**         | **Scop / Funcție**                                                                 |
|------------------|--------------------------|----------------------------------|--------------------------------------------------------------------------------------|
| **IO8**          | CS                       | SD Card                          | Chip Select pentru card SD.                                                        |
| **IO9**          | CLK                      | SD Card                          | Clock SPI pentru card SD.                                                          |
| **IO10**         | MISO                     | SD Card                          | Date de pe card SD către ESP32.                                                    |
| **IO11**         | MOSI                     | SD Card                          | Date de la ESP32 către card SD.                                                    |

### E-Paper Display

| **Pin ESP32-C6** | **Nume Semnal**         | **Componentă Asociată**         | **Scop / Funcție**                                                                 |
|------------------|--------------------------|----------------------------------|--------------------------------------------------------------------------------------|
| **IO12**         | BUSY / RST / etc.        | E-Paper Header                   | Semnale de control pentru afișaj.                                                  |
| **IO13**         | -                        | E-Paper Header                   | Semnal suplimentar pentru afișaj.                                                  |
| **IO14**         | -                        | E-Paper Header                   | Semnal suplimentar pentru afișaj.                                                  |
| **IO15**         | -                        | E-Paper Header                   | Semnal suplimentar pentru afișaj.                                                  |

### Magistrală I2C (RTC & Senzor Mediu)

| **Pin ESP32-C6** | **Nume Semnal**         | **Componentă Asociată**         | **Scop / Funcție**                                                                 |
|------------------|--------------------------|----------------------------------|--------------------------------------------------------------------------------------|
| **IO16**         | SCL                      | RTC (DS3231), BME688             | Clock pentru comunicația I2C.                                                      |
| **IO17**         | SDA                      | RTC (DS3231), BME688             | Date pentru comunicația I2C.                                                       |

### Serial Debug / Qwiic

| **Pin ESP32-C6** | **Nume Semnal**         | **Componentă Asociată**         | **Scop / Funcție**                                                                 |
|------------------|--------------------------|----------------------------------|--------------------------------------------------------------------------------------|
| **IO18**         | UART_RX                  | Qwiic / Debug Header             | Recepție serială (ex: debugging, interfață Qwiic).                                  |
| **IO19**         | UART_TX                  | Qwiic / Debug Header             | Transmisie serială.                                                                 |

## Pași de Implementare

1. **Proiectarea Schemei**
   - Am realizat schema electrică folosind componente din biblioteca specificată.
   - Am verificat schema cu ERC și am rezolvat toate erorile relevante.
   - M-am asigurat că toate componentele au footprint corect și conexiuni valide.

2. **Plasarea Componentelor pe PCB**
   - Am plasat toate componentele exclusiv pe layer-ul **TOP**, conform cerințelor.
   - Am amplasat corect condensatoarele de decuplare (100nF) lângă pinii de alimentare.
   - Am poziționat antena modulului ESP32 spre exteriorul plăcii și am decupat zona de sub ea.
   - Am ignorat erorile de dimension generate de butoane și mufa USB, conform instrucțiunilor.

3. **Rutarea PCB-ului**
   - Am rutat traseele de alimentare cu **width = 0.3mm** și cele de semnal cu **minim 0.15mm**.
   - Am evitat unghiurile drepte și am minimizat utilizarea de vias-uri pe traseele de putere.
   - Fiind o placă dublu strat, am aplicat **via stitching** între planurile de masă.
   - Nu am rutat trasee sub antena ESP32 și am decupat zona PCB-ului din acea regiune.

4. **Verificare și Validare**
   - Am folosit fișierul de verificare pentru DRC și am corectat toate problemele importante.
   - Am ignorat eroarea “Only INPUT pins on NET ID” conform indicațiilor.
   - Am marcat clar toate test pad-urile în silkscreen cu denumirile semnalelor (ex. MOSI, RX).

5. **Realizarea Silkscreen-ului**
   - Am păstrat silkscreen-ul clar și lizibil, cu **numele componentelor**, fără valorile acestora.

6. **Modelarea 3D**
   - Am importat modelul 3D al PCB-ului în carcasa furnizată.
   - Am desenat bateria și ecranul conform dimensiunilor mecanice din datasheet-uri.
   - Am prevăzut conectarea directă a bateriei la două test pad-uri de pe placă.

7. **Generarea Fișierelor Finale**
   - Am generat fișierele **Gerber** conform tutorialului oferit.
   - Am creat fișierele **BOM** și **Pick and Place** pentru fabricație, urmând pașii din tutorial.
   - Pentru componente și modele 3D, am folosit [Component Search Engine](https://componentsearchengine.com).


